
var meses=new Array("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Augosto","Septiembre","Octubre","Noviembre","Diciembre");var weekday=new Array("Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado");var fechas_dias_semana=new Array();var date=new Date();var dia=("0"+date.getDate()).slice(-2);var dia_semana=weekday[date.getDay()];var mes=("0"+(date.getMonth()+1)).slice(-2);var mes_nombre=meses[date.getMonth()];var anio=date.getFullYear();var count_day_week=0;Date.prototype.yyyymmdd=function(){var c=this.getFullYear().toString();var b=(this.getMonth()+1).toString();var a=this.getDate().toString();return c+"-"+(b[1]?b:"0"+b[0])+"-"+(a[1]?a:"0"+a[0])};function getListadoCalendarioEventos(f,c,e,a,b){var d="listCalendarioEventosByDiaMesAnio.action";$(".area_info_calendario_eventos").html('<p><img src="../img/ajax-loading.gif" alt="Cargando"/> Cargando ...</p>');$(".area_info_calendario_eventos").load(d,{dia:f,mes:c,anio:e,dayOfWeek:a,mes_nombre:b},function(){$(".next-day").on("click",function(){var h=$("#datepicker_calendario_eventos").datepicker("getDate");h.setTime(h.getTime()+(1000*60*60*24));$("#datepicker_calendario_eventos").datepicker("setDate",h);var g=$("#datepicker_calendario_eventos").datepicker("getDate");var i=weekday[g.getUTCDay()];getListadoCalendarioEventos(("0"+g.getUTCDate()).slice(-2),("0"+(g.getMonth()+1)).slice(-2),g.getFullYear(),i,meses[g.getMonth()])});$(".prev-day").on("click",function(){var h=$("#datepicker_calendario_eventos").datepicker("getDate");h.setTime(h.getTime()-(1000*60*60*24));$("#datepicker_calendario_eventos").datepicker("setDate",h);var g=$("#datepicker_calendario_eventos").datepicker("getDate");var i=weekday[g.getUTCDay()];getListadoCalendarioEventos(("0"+g.getUTCDate()).slice(-2),("0"+(g.getMonth()+1)).slice(-2),g.getFullYear(),i,meses[g.getMonth()])})})}function getListadoCalendarioEventosSemanal(b,c){var a="listCalendarioEventosBySemana.action";$(".area_info_calendario_eventos").html('<p><img src="../img/ajax-loading.gif"  alt="Cargando"/> Cargando ...</p>');$(".area_info_calendario_eventos").load(a,{inicio:b,fin:c})}function getListadoCalendarioEventosMensual(c,a,b){var d="listCalendarioEventosByMes.action";$(".area_info_calendario_eventos").html('<p><img src="../img/ajax-loading.gif" width="20" height="21" alt="Cargando"/> Cargando ...</p>');$(".area_info_calendario_eventos").load(d,{inicio_mes:c,fin_mes:a},function(){$("#tabla_calendario_eventos thead tr th").html(b)})}function getCalendarioEventos(b){var a="getCalendarioEventosByID.action";$(".area_info_calendario_eventos").html('<p><img src="../img/ajax-loading.gif" alt="Cargando"/> Cargando ...</p>');$(".area_info_calendario_eventos").load(a,{i:b})}function tipoBusqueda(c){switch(c){case 1:count_day_week=0;$("#menuFecha table tbody tr td:nth-child(1)").addClass("opcion_seleccionada");$("#menuFecha table tbody tr td:nth-child(2)").removeClass("opcion_seleccionada");$("#menuFecha table tbody tr td:nth-child(3)").removeClass("opcion_seleccionada");$("#datepicker_calendario_eventos").datepicker("destroy");$("#datepicker_calendario_eventos2").datepicker("destroy");calendarioDiario();getListadoCalendarioEventos(dia,mes,anio,dia_semana,mes_nombre);break;case 2:count_day_week=0;$("#menuFecha table tbody tr td:nth-child(1)").removeClass("opcion_seleccionada");$("#menuFecha table tbody tr td:nth-child(2)").addClass("opcion_seleccionada");$("#menuFecha table tbody tr td:nth-child(3)").removeClass("opcion_seleccionada");$("#datepicker_calendario_eventos").datepicker("destroy");$("#datepicker_calendario_eventos2").datepicker("destroy");calendarioSemanal();break;case 3:count_day_week=0;$("#menuFecha table tbody tr td:nth-child(1)").removeClass("opcion_seleccionada");$("#menuFecha table tbody tr td:nth-child(2)").removeClass("opcion_seleccionada");$("#menuFecha table tbody tr td:nth-child(3)").addClass("opcion_seleccionada");$("#datepicker_calendario_eventos").datepicker("destroy");$("#datepicker_calendario_eventos2").datepicker("destroy");var d=new Date();var a=meses[d.getMonth()]+" "+d.getFullYear();var b=new Date(d.getFullYear(),d.getMonth(),1);var e=new Date(d.getFullYear(),d.getMonth()+1,0);getListadoCalendarioEventosMensual(b.yyyymmdd(),e.yyyymmdd(),a);calendarioMes();break}}function calendarioDiario(){$("#datepicker_calendario_eventos").datepicker({monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],dateFormat:"yy-mm-dd",onSelect:function(d,c){var b=$(this).datepicker("getDate");var a=weekday[b.getUTCDay()];getListadoCalendarioEventos(("0"+c.selectedDay).slice(-2),("0"+(c.selectedMonth+1)).slice(-2),c.selectedYear,a,meses[c.selectedMonth])}})}function calendarioSemanal(){$(function(){var a;var e;var b=function(){window.setTimeout(function(){$("#datepicker_calendario_eventos").find(".ui-datepicker-current-day a").addClass("ui-state-active")},1)};var d=$("#datepicker_calendario_eventos");function f(){var g=d.datepicker("getDate")||new Date();a=new Date(g.getFullYear(),g.getMonth(),g.getDate()-g.getDay());e=new Date(g.getFullYear(),g.getMonth(),g.getDate()-g.getDay()+6)}f();function c(h){var g="yy-mm-dd";$("#startDate").text($.datepicker.formatDate(g,a,h.settings));$("#endDate").text($.datepicker.formatDate(g,e,h.settings));count_day_week=0;getListadoCalendarioEventosSemanal($.datepicker.formatDate(g,a,h.settings),$.datepicker.formatDate(g,e,h.settings))}c("start");d.datepicker({monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],dateFormat:"yy-mm-dd",showOtherMonths:true,selectOtherMonths:true,onSelect:function(h,g){f();c(g);b()},beforeShowDay:function(h){var g="";if(h>=a&&h<=e){g="ui-datepicker-current-day"}return[true,g]},onChangeMonthYear:function(g,i,h){b()}});b();$("#datepicker_calendario_eventos .ui-datepicker-calendar tr").on("mousemove",function(){$(this).find("td a").addClass("ui-state-hover")});$("#datepicker_calendario_eventos .ui-datepicker-calendar tr").on("mouseleave",function(){$(this).find("td a").removeClass("ui-state-hover")})})}function calendarioMes(){$("#datepicker_calendario_eventos2").datepicker({monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],dateFormat:"yy-mm-dd",beforeShowDay:function(a){return[false,""]},onChangeMonthYear:function(c,f,e){var b=new Date();b.setMonth(f-1);b.setFullYear(c);var a=meses[f-1]+" "+c;var g=new Date(b.getFullYear(),b.getMonth(),1);var d=new Date(b.getFullYear(),b.getMonth()+1,0);getListadoCalendarioEventosMensual(g.yyyymmdd(),d.yyyymmdd(),a)}})}function backEventsDayWeek(){if(count_day_week>0){count_day_week--;$("#tabla_calendario_eventos tbody tr td.fecha_actual").hide().html(fechas_dias_semana[count_day_week]).fadeIn("slow");$("#tabla_calendario_eventos tr."+fechas_dias_semana[count_day_week+1].replace(/\ /g,"_")).hide();$("#tabla_calendario_eventos tr."+fechas_dias_semana[count_day_week].replace(/\ /g,"_")).fadeIn()}}function forwardEventsDayWeek(){if(count_day_week<fechas_dias_semana.length-1){count_day_week++;$("#tabla_calendario_eventos tbody tr td.fecha_actual").hide().html(fechas_dias_semana[count_day_week]).fadeIn("slow");$("#tabla_calendario_eventos tr."+fechas_dias_semana[count_day_week-1].replace(/\ /g,"_")).hide();$("#tabla_calendario_eventos tr."+fechas_dias_semana[count_day_week].replace(/\ /g,"_")).fadeIn()}};
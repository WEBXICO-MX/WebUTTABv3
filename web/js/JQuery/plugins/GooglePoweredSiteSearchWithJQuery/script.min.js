
$(document).ready(function(){var b={siteURL:"www.uttab.edu.mx",searchSite:true,type:"web",append:false,perPage:5,page:0};$("#s").focus();$("#searchForm").submit(function(){c();return false});$("#searchSite,#searchWeb").change(function(){b.searchSite=this.id=="searchSite"});function c(e){e=$.extend({},b,e);e.term=e.term||$("#s").val();if(e.searchSite){e.term="site:"+e.siteURL+" "+e.term}var f="http://ajax.googleapis.com/ajax/services/search/"+e.type+"?v=1.0&callback=?";var d=$("#resultsDiv");$.getJSON(f,{q:e.term,rsz:e.perPage,start:e.page*e.perPage},function(k){var h=k;console.log(k);$("#more").remove();if(h.length){var j=$("<div>",{className:"pageContainer"});for(var g=0;g<h.length;g++){j.append(new a(h[g])+"")}if(!e.append){d.empty()}j.append('<div class="clear"></div>').hide().appendTo(d).fadeIn("slow");var l=k.responseData.cursor;if(+l.estimatedResultCount>(e.page+1)*e.perPage){$("<div>",{id:"more"}).appendTo(d).click(function(){c({append:true,page:e.page+1});$(this).fadeOut()})}}else{d.empty();$("<p>",{className:"notFound",html:"No se han encontrado resultados!"}).hide().appendTo(d).fadeIn()}})}function a(e){var d=[];switch(e.GsearchResultClass){case"GwebSearch":d=['<div class="webResult">','<h2><a href="',e.unescapedUrl,'" target="_blank">',e.title,"</a></h2>","<p>",e.content,"</p>",'<a href="',e.unescapedUrl,'" target="_blank">',e.visibleUrl,"</a>","</div>"];break;case"GimageSearch":d=['<div class="imageResult">','<a target="_blank" href="',e.unescapedUrl,'" title="',e.titleNoFormatting,'" class="pic" style="width:',e.tbWidth,"px;height:",e.tbHeight,'px;">','<img src="',e.tbUrl,'" width="',e.tbWidth,'" height="',e.tbHeight,'" /></a>','<div class="clear"></div>','<a href="',e.originalContextUrl,'" target="_blank">',e.visibleUrl,"</a>","</div>"];break;case"GvideoSearch":d=['<div class="imageResult">','<a target="_blank" href="',e.url,'" title="',e.titleNoFormatting,'" class="pic" style="width:150px;height:auto;">','<img src="',e.tbUrl,'" width="100%" /></a>','<div class="clear"></div>','<a href="',e.originalContextUrl,'" target="_blank">',e.publisher,"</a>","</div>"];break;case"GnewsSearch":d=['<div class="webResult">','<h2><a href="',e.unescapedUrl,'" target="_blank">',e.title,"</a></h2>","<p>",e.content,"</p>",'<a href="',e.unescapedUrl,'" target="_blank">',e.publisher,"</a>","</div>"];break}this.toString=function(){return d.join("")}}});